<html><head></head><body><dom-module id="el-audio"><template><style>:host{display:block;}</style></template><script>var ElAudio=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){var a=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),window.AudioContext=window.AudioContext||window.webkitAudioContext;var c=new AudioContext;fetch(this.url).then(function(a){return a.arrayBuffer()}).then(function(a){return c.decodeAudioData(a)}).then(function(b){a._setAudioBuffer(b)})}},{key:'playSound',value:function(){this._setActive(!0),this._play(this.audioBuffer)}},{key:'_play',value:function(a){var b=this;window.AudioContext=window.AudioContext||window.webkitAudioContext;var c=new AudioContext,d=c.createBufferSource();d.buffer=a,d.connect(c.destination),d.start(),setTimeout(function(){d.stop(),b._setActive(!1)},this.timeout)}},{key:'_playTestSound',value:function(){var a=this;this._setActive(!0),window.AudioContext=window.AudioContext||window.webkitAudioContext;var b=new AudioContext,c=b.createOscillator();c.frequency.value=200,c.connect(b.destination),c.start(0),setTimeout(function(){c.stop(0),a._setActive(!1)},this.timeout)}}],[{key:'is',get:function(){return'el-audio'}},{key:'properties',get:function(){return{active:{type:Boolean,value:!1,readOnly:!0,reflectToAttribute:!0,notify:!0},url:{type:String},timeout:{type:Number,value:1e3},audioBuffer:{type:Object,readOnly:!0}}}}]),b}(Polymer.Element);window.customElements.define(ElAudio.is,ElAudio);</script></dom-module>(function () { 'use strict'; const URL = 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/123941/Yodel_Sound_Effect.mp3'; const context = new AudioContext(); const playButton = document.querySelector('#play'); let yodelBuffer; window.fetch(URL) .then(response =&gt; response.arrayBuffer()) .then(arrayBuffer =&gt; context.decodeAudioData(arrayBuffer)) .then(audioBuffer =&gt; { playButton.disabled = false; yodelBuffer = audioBuffer; }); playButton.onclick = () =&gt; play(yodelBuffer); function play(audioBuffer) { const source = context.createBufferSource(); source.buffer = audioBuffer; source.connect(context.destination); source.start(); } }());</body></html>